{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Asus/OneDrive/Desktop/webbanhanggom/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Asus/OneDrive/Desktop/webbanhanggom/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useEffect}from'react';import\"../styles/global.css\";import Nav from\"./Nav\";// import Login from './Login/Login';\nimport News from\"./News/News\";import Cart from\"./Cart/Cart\";import Contact from\"./Contact/Contact\";import Shopping from\"./Shopping/Shopping\";import ProductPage from\"./ProductPage/ProductPage\";import Product from\"./Product/\";import Home from\"./Home\";import Footer from\"./Footer\";import useFetch from\"../custom/fetch\";import{BrowserRouter,Router,Routes,Route}from'react-router-dom';import{gapi}from'gapi-script';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var clientId='545591293381-r81f531rg6emth069dmr0osqc36rplfu.apps.googleusercontent.com';var _useState=useState(false),_useState2=_slicedToArray(_useState,2),checkUser=_useState2[0],setCheckUser=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var onSuccess=function onSuccess(response){setUser(response.profileObj);setCheckUser(true);};var _useFetch=useFetch('https://6288a9b610e93797c15d8515.mockapi.io/api/product'),dataBlock=_useFetch.data,loadedData=_useFetch.loadedData;useEffect(function(){function start(){gapi.client.init({clientId:clientId,scope:''});}gapi.load('client:auth2',start);});var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),listProduct=_useState6[0],setListProduct=_useState6[1];var handlePush=function handlePush(id){var item={id:id,quality:1};var check=listProduct.find(function(item){return item.id===id;});toast.success('Đã thêm sản phẩm vào giỏ hàng');if(!check){setListProduct([item].concat(_toConsumableArray(listProduct)));}else{var findID=listProduct.findIndex(function(item){return item.id===id;});listProduct[findID].quality=listProduct[findID].quality+1;}};var handleDelete=function handleDelete(id){var newListProduct=listProduct;newListProduct.splice(newListProduct.findIndex(function(i){return i.id===id;}),1);toast.error('Đã xoá sản phẩm ra khỏi giỏ');setListProduct(_toConsumableArray(newListProduct));};var data=listProduct.map(function(aitem){return dataBlock.filter(function(bitem){return bitem.id===aitem.id;});});// let [datamap, setDatamap] = useState([]);\nvar datamap=[];data.map(function(aitem){return aitem.map(function(bitem){datamap.push(bitem);});});datamap.map(function(item){return listProduct.filter(function(aitem){return item.quality=aitem.quality;});});return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Nav,{listProduct:listProduct,user:user,checkUser:checkUser}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{dataBlock:dataBlock,loadedData:loadedData,handlePush:handlePush})}),/*#__PURE__*/_jsx(Route,{path:\"/news\",element:/*#__PURE__*/_jsx(News,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shopping\",element:/*#__PURE__*/_jsx(Shopping,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{loadedData:loadedData,handleDelete:handleDelete,datamap:datamap})}),/*#__PURE__*/_jsx(Route,{path:\"/product\",element:/*#__PURE__*/_jsx(Product,{dataBlock:dataBlock,loadedData:loadedData,handlePush:handlePush})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductPage,{dataBlock:dataBlock,loadedData:loadedData,handlePush:handlePush})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","Nav","News","Cart","Contact","Shopping","ProductPage","Product","Home","Footer","useFetch","BrowserRouter","Router","Routes","Route","gapi","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","App","clientId","_useState","_useState2","_slicedToArray","checkUser","setCheckUser","_useState3","_useState4","user","setUser","onSuccess","response","profileObj","_useFetch","dataBlock","data","loadedData","start","client","init","scope","load","_useState5","_useState6","listProduct","setListProduct","handlePush","id","item","quality","check","find","success","concat","_toConsumableArray","findID","findIndex","handleDelete","newListProduct","splice","i","error","map","aitem","filter","bitem","datamap","push","children","className","path","element","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover"],"sources":["C:/Users/Asus/OneDrive/Desktop/webbanhanggom/src/View/App.js"],"sourcesContent":["import { useState } from 'react';\nimport { useEffect } from 'react';\nimport '../styles/global.css';\nimport Nav from './Nav';\n// import Login from './Login/Login';\nimport News from './News/News';\nimport Cart from './Cart/Cart';\nimport Contact from './Contact/Contact';\nimport Shopping from './Shopping/Shopping';\nimport ProductPage from './ProductPage/ProductPage';\nimport Product from './Product/';\nimport Home from './Home';\nimport Footer from './Footer';\nimport useFetch from '../custom/fetch';\nimport { BrowserRouter, Router, Routes, Route } from 'react-router-dom';\nimport { gapi } from 'gapi-script';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n    const clientId = '545591293381-r81f531rg6emth069dmr0osqc36rplfu.apps.googleusercontent.com';\n    const [checkUser, setCheckUser] = useState(false);\n    const [user, setUser] = useState({});\n    const onSuccess = (response) => {\n        setUser(response.profileObj);\n        setCheckUser(true);\n    };\n    let { data: dataBlock, loadedData } = useFetch('https://6288a9b610e93797c15d8515.mockapi.io/api/product');\n\n    useEffect(() => {\n        function start() {\n            gapi.client.init({\n                clientId: clientId,\n                scope: '',\n            });\n        }\n        gapi.load('client:auth2', start);\n    });\n\n    const [listProduct, setListProduct] = useState([]);\n    const handlePush = (id) => {\n        const item = { id: id, quality: 1 };\n        const check = listProduct.find((item) => item.id === id);\n        toast.success('Đã thêm sản phẩm vào giỏ hàng');\n\n        if (!check) {\n            setListProduct([item, ...listProduct]);\n        } else {\n            const findID = listProduct.findIndex((item) => item.id === id);\n            listProduct[findID].quality = listProduct[findID].quality + 1;\n        }\n    };\n    const handleDelete = (id) => {\n        let newListProduct = listProduct;\n        newListProduct.splice(\n            newListProduct.findIndex(function (i) {\n                return i.id === id;\n            }),\n            1,\n        );\n        toast.error('Đã xoá sản phẩm ra khỏi giỏ');\n\n        setListProduct([...newListProduct]);\n    };\n    const data = listProduct.map((aitem) => {\n        return dataBlock.filter((bitem) => {\n            return bitem.id === aitem.id;\n        });\n    });\n    // let [datamap, setDatamap] = useState([]);\n    let datamap = [];\n    data.map((aitem) => {\n        return aitem.map((bitem) => {\n            datamap.push(bitem);\n        });\n    });\n\n    datamap.map((item) => {\n        return listProduct.filter((aitem) => {\n            return (item.quality = aitem.quality);\n        });\n    });\n    return (\n        <BrowserRouter>\n            <div className=\"app-container\">\n                <Nav listProduct={listProduct} user={user} checkUser={checkUser} />\n                <Routes>\n                    <Route\n                        path=\"/\"\n                        element={<Home dataBlock={dataBlock} loadedData={loadedData} handlePush={handlePush} />}\n                    />\n                    <Route path=\"/news\" element={<News />} />\n                    <Route path=\"/contact\" element={<Contact />} />\n                    <Route path=\"/shopping\" element={<Shopping />} />\n                    {/* <Route path=\"/login\" element={<Login user={user} clientId={clientId} onSuccess={onSuccess} />} /> */}\n                    <Route\n                        path=\"/cart\"\n                        element={<Cart loadedData={loadedData} handleDelete={handleDelete} datamap={datamap} />}\n                    />\n                    <Route\n                        path=\"/product\"\n                        element={<Product dataBlock={dataBlock} loadedData={loadedData} handlePush={handlePush} />}\n                    />\n\n                    <Route\n                        path=\"/product/:id\"\n                        element={<ProductPage dataBlock={dataBlock} loadedData={loadedData} handlePush={handlePush} />}\n                    />\n                </Routes>\n                <Footer />\n                <ToastContainer\n                    position=\"bottom-right\"\n                    autoClose={5000}\n                    hideProgressBar={false}\n                    newestOnTop={false}\n                    closeOnClick\n                    rtl={false}\n                    pauseOnFocusLoss\n                    draggable\n                    pauseOnHover\n                />\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n"],"mappings":"4QAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CACjC,6BACA,MAAO,CAAAC,GAAG,aACV;AACA,MAAO,CAAAC,IAAI,mBACX,MAAO,CAAAC,IAAI,mBACX,MAAO,CAAAC,OAAO,yBACd,MAAO,CAAAC,QAAQ,2BACf,MAAO,CAAAC,WAAW,iCAClB,MAAO,CAAAC,OAAO,kBACd,MAAO,CAAAC,IAAI,cACX,MAAO,CAAAC,MAAM,gBACb,MAAO,CAAAC,QAAQ,uBACf,OAASC,aAAa,CAAEC,MAAM,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CACvE,OAASC,IAAI,KAAQ,aAAa,CAElC,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,GAAM,CAAAC,QAAQ,CAAG,0EAA0E,CAC3F,IAAAC,SAAA,CAAkCzB,QAAQ,CAAC,KAAK,CAAC,CAAA0B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAwB9B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA+B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,GAAM,CAAAG,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,QAAQ,CAAK,CAC5BF,OAAO,CAACE,QAAQ,CAACC,UAAU,CAAC,CAC5BP,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CACD,IAAAQ,SAAA,CAAsC1B,QAAQ,CAAC,yDAAyD,CAAC,CAA7F2B,SAAS,CAAAD,SAAA,CAAfE,IAAI,CAAaC,UAAU,CAAAH,SAAA,CAAVG,UAAU,CAEjCvC,SAAS,CAAC,UAAM,CACZ,QAAS,CAAAwC,KAAKA,CAAA,CAAG,CACbzB,IAAI,CAAC0B,MAAM,CAACC,IAAI,CAAC,CACbnB,QAAQ,CAAEA,QAAQ,CAClBoB,KAAK,CAAE,EACX,CAAC,CAAC,CACN,CACA5B,IAAI,CAAC6B,IAAI,CAAC,cAAc,CAAEJ,KAAK,CAAC,CACpC,CAAC,CAAC,CAEF,IAAAK,UAAA,CAAsC9C,QAAQ,CAAC,EAAE,CAAC,CAAA+C,UAAA,CAAApB,cAAA,CAAAmB,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,GAAM,CAAAG,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,EAAE,CAAK,CACvB,GAAM,CAAAC,IAAI,CAAG,CAAED,EAAE,CAAEA,EAAE,CAAEE,OAAO,CAAE,CAAE,CAAC,CACnC,GAAM,CAAAC,KAAK,CAAGN,WAAW,CAACO,IAAI,CAAC,SAACH,IAAI,QAAK,CAAAA,IAAI,CAACD,EAAE,GAAKA,EAAE,GAAC,CACxDjC,KAAK,CAACsC,OAAO,CAAC,+BAA+B,CAAC,CAE9C,GAAI,CAACF,KAAK,CAAE,CACRL,cAAc,EAAEG,IAAI,EAAAK,MAAA,CAAAC,kBAAA,CAAKV,WAAW,EAAC,CAAC,CAC1C,CAAC,IAAM,CACH,GAAM,CAAAW,MAAM,CAAGX,WAAW,CAACY,SAAS,CAAC,SAACR,IAAI,QAAK,CAAAA,IAAI,CAACD,EAAE,GAAKA,EAAE,GAAC,CAC9DH,WAAW,CAACW,MAAM,CAAC,CAACN,OAAO,CAAGL,WAAW,CAACW,MAAM,CAAC,CAACN,OAAO,CAAG,CAAC,CACjE,CACJ,CAAC,CACD,GAAM,CAAAQ,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIV,EAAE,CAAK,CACzB,GAAI,CAAAW,cAAc,CAAGd,WAAW,CAChCc,cAAc,CAACC,MAAM,CACjBD,cAAc,CAACF,SAAS,CAAC,SAAUI,CAAC,CAAE,CAClC,MAAO,CAAAA,CAAC,CAACb,EAAE,GAAKA,EAAE,CACtB,CAAC,CAAC,CACF,CACJ,CAAC,CACDjC,KAAK,CAAC+C,KAAK,CAAC,6BAA6B,CAAC,CAE1ChB,cAAc,CAAAS,kBAAA,CAAKI,cAAc,CAAC,CAAC,CACvC,CAAC,CACD,GAAM,CAAAvB,IAAI,CAAGS,WAAW,CAACkB,GAAG,CAAC,SAACC,KAAK,CAAK,CACpC,MAAO,CAAA7B,SAAS,CAAC8B,MAAM,CAAC,SAACC,KAAK,CAAK,CAC/B,MAAO,CAAAA,KAAK,CAAClB,EAAE,GAAKgB,KAAK,CAAChB,EAAE,CAChC,CAAC,CAAC,CACN,CAAC,CAAC,CACF;AACA,GAAI,CAAAmB,OAAO,CAAG,EAAE,CAChB/B,IAAI,CAAC2B,GAAG,CAAC,SAACC,KAAK,CAAK,CAChB,MAAO,CAAAA,KAAK,CAACD,GAAG,CAAC,SAACG,KAAK,CAAK,CACxBC,OAAO,CAACC,IAAI,CAACF,KAAK,CAAC,CACvB,CAAC,CAAC,CACN,CAAC,CAAC,CAEFC,OAAO,CAACJ,GAAG,CAAC,SAACd,IAAI,CAAK,CAClB,MAAO,CAAAJ,WAAW,CAACoB,MAAM,CAAC,SAACD,KAAK,CAAK,CACjC,MAAQ,CAAAf,IAAI,CAACC,OAAO,CAAGc,KAAK,CAACd,OAAO,CACxC,CAAC,CAAC,CACN,CAAC,CAAC,CACF,mBACIjC,IAAA,CAACR,aAAa,EAAA4D,QAAA,cACVlD,KAAA,QAAKmD,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC1BpD,IAAA,CAAClB,GAAG,EAAC8C,WAAW,CAAEA,WAAY,CAAChB,IAAI,CAAEA,IAAK,CAACJ,SAAS,CAAEA,SAAU,CAAE,CAAC,cACnEN,KAAA,CAACR,MAAM,EAAA0D,QAAA,eACHpD,IAAA,CAACL,KAAK,EACF2D,IAAI,CAAC,GAAG,CACRC,OAAO,cAAEvD,IAAA,CAACX,IAAI,EAAC6B,SAAS,CAAEA,SAAU,CAACE,UAAU,CAAEA,UAAW,CAACU,UAAU,CAAEA,UAAW,CAAE,CAAE,CAC3F,CAAC,cACF9B,IAAA,CAACL,KAAK,EAAC2D,IAAI,CAAC,OAAO,CAACC,OAAO,cAAEvD,IAAA,CAACjB,IAAI,GAAE,CAAE,CAAE,CAAC,cACzCiB,IAAA,CAACL,KAAK,EAAC2D,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEvD,IAAA,CAACf,OAAO,GAAE,CAAE,CAAE,CAAC,cAC/Ce,IAAA,CAACL,KAAK,EAAC2D,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEvD,IAAA,CAACd,QAAQ,GAAE,CAAE,CAAE,CAAC,cAEjDc,IAAA,CAACL,KAAK,EACF2D,IAAI,CAAC,OAAO,CACZC,OAAO,cAAEvD,IAAA,CAAChB,IAAI,EAACoC,UAAU,CAAEA,UAAW,CAACqB,YAAY,CAAEA,YAAa,CAACS,OAAO,CAAEA,OAAQ,CAAE,CAAE,CAC3F,CAAC,cACFlD,IAAA,CAACL,KAAK,EACF2D,IAAI,CAAC,UAAU,CACfC,OAAO,cAAEvD,IAAA,CAACZ,OAAO,EAAC8B,SAAS,CAAEA,SAAU,CAACE,UAAU,CAAEA,UAAW,CAACU,UAAU,CAAEA,UAAW,CAAE,CAAE,CAC9F,CAAC,cAEF9B,IAAA,CAACL,KAAK,EACF2D,IAAI,CAAC,cAAc,CACnBC,OAAO,cAAEvD,IAAA,CAACb,WAAW,EAAC+B,SAAS,CAAEA,SAAU,CAACE,UAAU,CAAEA,UAAW,CAACU,UAAU,CAAEA,UAAW,CAAE,CAAE,CAClG,CAAC,EACE,CAAC,cACT9B,IAAA,CAACV,MAAM,GAAE,CAAC,cACVU,IAAA,CAACH,cAAc,EACX2D,QAAQ,CAAC,cAAc,CACvBC,SAAS,CAAE,IAAK,CAChBC,eAAe,CAAE,KAAM,CACvBC,WAAW,CAAE,KAAM,CACnBC,YAAY,MACZC,GAAG,CAAE,KAAM,CACXC,gBAAgB,MAChBC,SAAS,MACTC,YAAY,MACf,CAAC,EACD,CAAC,CACK,CAAC,CAExB,CAEA,cAAe,CAAA7D,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}